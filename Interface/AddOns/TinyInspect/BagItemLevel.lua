--------------------------------------- 包包顯示物品等級 Author: M-------------------------------------local _, LibItem = ...local function SetContainerItemLevel(button, ItemLink)    if (not button) then return end    if (not button.levelString) then        button.levelBorder = button:CreateTexture(nil, 'OVERLAY')        button.levelBorder:SetSize(67, 67)        button.levelBorder:SetPoint('CENTER')        button.levelBorder:SetTexture([[Interface\Buttons\UI-ActionButton-Border]])        button.levelBorder:SetBlendMode('ADD')        button.levelBorder:Hide()        button.levelString = button:CreateFontString(nil, "OVERLAY")		button.levelString:SetFont(STANDARD_TEXT_FONT, 13, "OUTLINE")		button.levelString:SetPoint("TOP")        button.levelString:SetTextColor(1, 0.82, 0)    end    if (button.origItemLink ~= ItemLink) then        button.origItemLink = ItemLink    else        return    end    if (ItemLink) then        local count, level, _, _, quality = LibItem:GetItemInfoActually(ItemLink)        if (count == 0 and level > 0) then            button.levelString:SetText(level)        else            button.levelString:SetText("")        end        if (quality and quality > 1) then            local r, g, b, hex = GetItemQualityColor(quality)--            button.levelString:SetTextColor(r, g, b)            button.levelBorder:SetVertexColor(r, g, b, 0.4)            button.levelBorder:Show()        else            button.levelBorder:Hide()        end    else        button.levelString:SetText("")        button.levelBorder:Hide()    endendhooksecurefunc("ContainerFrame_Update", function(self)    local id = self:GetID()    local name = self:GetName()    local button    for i = 1, self.size do        button = _G[name.."Item"..i]        SetContainerItemLevel(button, GetContainerItemLink(id, button:GetID()))    endend)-- For Bagnonif (Bagnon and Bagnon.ItemSlot) then    local origFunc = Bagnon.ItemSlot.DelayedUpdates    function Bagnon.ItemSlot:DelayedUpdates()        origFunc(self)        SetContainerItemLevel(self, self:GetItem())    endend-- For Combuctorif (Combuctor and Combuctor.ItemSlot) then    local origFunc = Combuctor.ItemSlot.Update    function Combuctor.ItemSlot:Update()        origFunc(self)        SetContainerItemLevel(self, self:GetItem())    endend-- For LiteBagif (LiteBagItemButton_UpdateItem) then    hooksecurefunc("LiteBagItemButton_UpdateItem", function(self)        SetContainerItemLevel(self, GetContainerItemLink(self:GetParent():GetID(), self:GetID()))    end)end